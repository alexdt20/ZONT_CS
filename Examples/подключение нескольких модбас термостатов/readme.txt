Сценарий позволяет использовать внешние термостаты с подключением по Modbus RTU протоколу.

В примере использовался термостат такого типа:
Modbus & RS485 RTU коммуникация 2pipe smart температура отопления охлаждения термостат 95-240VAC,24VAC
https://aliexpress.ru/item/4000013917924.html?srcSns=sns_Telegram&businessType=ProductDetail&spreadType=socialShare&tt=MG&utm_medium=sharing&sku_id=10000000034722561
(кстати скорость по умолчанию была выставлена 9600 а не 19200 как в описании)

В контроллере должна быть включена настройка использование модбас.
Установлены правильные параметры обмена скорость, чётность, стоп биты.
Другие настройки ф-ции модбас в контроллере делать не нужно.

В сценарии не нужно ничего менять.
Для работы термостата с контуром нужно к названию контура отопления добавить:
|mb1  (вместо 1 указать адрес модбас термостата)
Аналоговый датчик температуры в который будут выводиться показания датчика температуры с термостата 
в имени нужно так же указать |mb1

сценарий производит установку температуры с термостата в контур отопления если она изменилась в термостате.
также производит установку температуры в термостате если она изменилась со стороны контроллера.
производится установка значения темперутуры указанного датчика в контроллере с термостата (источник сигнала в настройках датчика в контроллере при этом не должен быть выбран)

также производится установка показаний часов в термостате из контроллера.

------------------------------

для работы сценария в контроллер должны быть загружены файлы:
mb_tst.pcl
utils.pcl

Прошивка контроллера должна быть не ниже 333 версии.


